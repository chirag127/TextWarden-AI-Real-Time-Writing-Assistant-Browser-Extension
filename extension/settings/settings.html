<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TextWarden Settings</title>
        <link rel="stylesheet" href="settings.css" />
    </head>
    <body>
        <div class="container">
            <header>
                <div class="logo">
                    <img src="../icons/icon48.png" alt="TextWarden Logo" />
                    <h1>TextWarden Settings</h1>
                </div>
                <button id="backToPopup" class="btn-secondary">
                    Back to Popup
                </button>
            </header>

            <div class="content">
                <div class="section">
                    <h2>API Key Settings</h2>
                    <div class="api-key-container">
                        <label for="apiKey">Gemini API Key</label>
                        <div class="api-key-input">
                            <input
                                type="password"
                                id="apiKey"
                                placeholder="Enter your Gemini API key"
                            />
                            <button id="toggleVisibility" class="btn-icon">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M8 2a6 6 0 0 0-6 6c0 1.53.582 2.92 1.535 3.97L2 13.5 3.5 15l1.53-1.535A5.975 5.975 0 0 0 8 14a5.975 5.975 0 0 0 2.97-.535L12.5 15 14 13.5l-1.535-1.53A5.97 5.97 0 0 0 14 8a6 6 0 0 0-6-6zm0 2a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                                    />
                                </svg>
                            </button>
                        </div>
                        <button id="saveApiKey" class="btn-primary">
                            Save API Key
                        </button>
                        <div id="apiKeySaveStatus" class="save-status"></div>
                    </div>

                    <div class="api-key-info">
                        <h3>Why do I need an API key?</h3>
                        <p>
                            TextWarden uses Google's Gemini AI model for
                            advanced writing suggestions. To use these
                            AI-powered features, you need to provide your own
                            Gemini API key.
                        </p>
                        <p>
                            <strong>Note:</strong> Basic grammar and spelling
                            checks work without an API key.
                        </p>

                        <h3>How to get a Gemini API key:</h3>
                        <ol>
                            <li>
                                Go to
                                <a href="https://ai.google.dev/" target="_blank"
                                    >Google AI Studio</a
                                >
                            </li>
                            <li>Sign in with your Google account</li>
                            <li>Navigate to the API keys section</li>
                            <li>Create a new API key</li>
                            <li>Copy the key and paste it here</li>
                        </ol>

                        <h3>Security Information:</h3>
                        <p>
                            Your API key is stored securely in your browser
                            using Chrome's local storage. It never leaves your
                            device except when making requests to the Gemini API
                            through our secure backend. We do not store your API
                            key on our servers.
                        </p>
                    </div>
                </div>

                <div class="section">
                    <h2>Language Preference</h2>
                    <div class="language-options">
                        <label class="radio-option">
                            <input
                                type="radio"
                                name="language"
                                value="en-US"
                                checked
                            />
                            <span>American English (en-US)</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="language" value="en-GB" />
                            <span>British English (en-GB)</span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2>Disabled Sites</h2>
                    <div class="disabled-sites-container">
                        <p class="info-text">
                            TextWarden will not run on these sites:
                        </p>
                        <div id="disabledSitesList" class="disabled-sites-list">
                            <div class="empty-list-message">
                                No sites have been disabled yet.
                            </div>
                        </div>

                        <div class="add-site-container">
                            <input
                                type="text"
                                id="newSiteInput"
                                placeholder="Enter website domain (e.g., example.com)"
                            />
                            <button id="addSiteBtn" class="btn-primary">
                                Add Site
                            </button>
                        </div>

                        <div id="siteActionStatus" class="save-status"></div>
                    </div>
                </div>
            </div>

            <footer>
                <span>TextWarden v1.0.0</span>
                <a
                    href="https://github.com/chirag127/TextWarden"
                    target="_blank"
                    >GitHub</a
                >
            </footer>
        </div>
        <script src="settings.js"></script>
    </body>
</html>
